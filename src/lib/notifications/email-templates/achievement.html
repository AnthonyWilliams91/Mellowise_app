<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Achievement Unlocked - Mellowise</title>
</head>
<body style="margin: 0; padding: 0; background-color: #f9fafb;">
  <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="background-color: #f9fafb;">
    <tr>
      <td align="center" style="padding: 20px 0;">
        <table class="email-container" role="presentation" cellspacing="0" cellpadding="0" border="0" style="width: 100%; max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 12px; box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.15);">

          <!-- Header -->
          <tr>
            <td class="email-header" style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); padding: 32px 24px; text-align: center; border-radius: 12px 12px 0 0; position: relative; overflow: hidden;">
              <!-- Celebration Background -->
              <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyMCIgY3k9IjIwIiByPSIyIiBmaWxsPSIjZmZmZmZmIiBmaWxsLW9wYWNpdHk9IjAuMyIvPjwvc3ZnPg=='); opacity: 0.6;"></div>
              <div style="position: relative; z-index: 1;">
                <a href="{{dashboardUrl}}" class="email-logo" style="font-size: 28px; font-weight: 700; color: #ffffff; text-decoration: none; letter-spacing: -0.5px;">
                  Mellowise
                </a>
                <div class="email-tagline" style="font-size: 14px; color: #e0e7ff; margin-top: 8px; font-weight: 500;">
                  Achievement Unlocked! üéâ
                </div>
              </div>
            </td>
          </tr>

          <!-- Achievement Banner -->
          <tr>
            <td style="background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%); padding: 24px; text-align: center; border-bottom: 4px solid #d97706;">
              <div style="animation: pulse 2s infinite;">
                <span style="font-size: 72px; display: block; margin-bottom: 12px; filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));">üèÜ</span>
              </div>
              <h1 style="font-size: 28px; font-weight: 900; color: #ffffff; margin: 0; text-shadow: 0 2px 4px rgba(0,0,0,0.3); text-transform: uppercase; letter-spacing: 1px;">
                ACHIEVEMENT UNLOCKED
              </h1>
            </td>
          </tr>

          <!-- Content -->
          <tr>
            <td class="email-content" style="background-color: #ffffff; padding: 40px 32px;">

              <!-- Main Achievement -->
              <div style="text-align: center; margin-bottom: 32px;">
                <div style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 20px; padding: 32px; margin-bottom: 24px; border: 3px solid #0ea5e9; position: relative; overflow: hidden;">
                  <!-- Achievement Icon -->
                  {{#if badgeUrl}}
                  <img src="{{badgeUrl}}" alt="Achievement Badge" style="width: 80px; height: 80px; margin: 0 auto 16px auto; display: block; border-radius: 50%; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
                  {{else}}
                  <div class="achievement-icon" style="width: 80px; height: 80px; margin: 0 auto 16px auto; background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
                    <span style="font-size: 36px; color: white;">üéØ</span>
                  </div>
                  {{/if}}

                  <h2 style="font-size: 24px; font-weight: 800; color: #0c4a6e; margin: 0 0 8px 0; text-transform: uppercase; letter-spacing: 0.5px;">
                    {{achievementTitle}}
                  </h2>

                  <p style="font-size: 16px; color: #0369a1; margin: 0 0 16px 0; font-weight: 600;">
                    {{achievementDescription}}
                  </p>

                  <!-- Achievement Type Badge -->
                  <div class="badge badge-{{achievementType}}" style="display: inline-block; padding: 8px 16px; border-radius: 20px; font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; background: #0ea5e9; color: #ffffff;">
                    {{achievementType}}
                  </div>
                </div>

                <h3 style="font-size: 22px; font-weight: 700; color: #111827; margin: 0 0 16px 0;">
                  Congratulations, {{userName}}! üéä
                </h3>
                <p style="font-size: 16px; color: #4b5563; margin: 0;">
                  Your dedication and hard work have paid off. This achievement reflects your commitment to excellence!
                </p>
              </div>

              <!-- Achievement Stats -->
              {{#if showStats}}
              <div class="stats-container" style="background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%); border-radius: 16px; padding: 28px; margin: 32px 0; border: 2px solid #e2e8f0;">
                <h3 style="margin: 0 0 24px 0; text-align: center; color: #374151; font-size: 18px; font-weight: 700;">üìä Your Achievement Journey</h3>

                <div style="display: flex; justify-content: space-around; flex-wrap: wrap;">
                  {{#if totalAchievements}}
                  <div class="stat-item" style="text-align: center; margin-bottom: 20px; min-width: 120px;">
                    <span class="stat-number" style="font-size: 28px; font-weight: 800; color: #8b5cf6; display: block;">{{totalAchievements}}</span>
                    <span class="stat-label" style="font-size: 12px; color: #6b7280; text-transform: uppercase; font-weight: 600; letter-spacing: 0.5px;">Total Badges</span>
                  </div>
                  {{/if}}
                  {{#if questionsAnswered}}
                  <div class="stat-item" style="text-align: center; margin-bottom: 20px; min-width: 120px;">
                    <span class="stat-number" style="font-size: 28px; font-weight: 800; color: #10b981; display: block;">{{questionsAnswered}}</span>
                    <span class="stat-label" style="font-size: 12px; color: #6b7280; text-transform: uppercase; font-weight: 600; letter-spacing: 0.5px;">Questions</span>
                  </div>
                  {{/if}}
                  {{#if studyDays}}
                  <div class="stat-item" style="text-align: center; margin-bottom: 20px; min-width: 120px;">
                    <span class="stat-number" style="font-size: 28px; font-weight: 800; color: #f59e0b; display: block;">{{studyDays}}</span>
                    <span class="stat-label" style="font-size: 12px; color: #6b7280; text-transform: uppercase; font-weight: 600; letter-spacing: 0.5px;">Study Days</span>
                  </div>
                  {{/if}}
                  {{#if accuracyRate}}
                  <div class="stat-item" style="text-align: center; margin-bottom: 20px; min-width: 120px;">
                    <span class="stat-number" style="font-size: 28px; font-weight: 800; color: #3b82f6; display: block;">{{accuracyRate}}%</span>
                    <span class="stat-label" style="font-size: 12px; color: #6b7280; text-transform: uppercase; font-weight: 600; letter-spacing: 0.5px;">Accuracy</span>
                  </div>
                  {{/if}}
                </div>
              </div>
              {{/if}}

              <!-- Achievement Benefits -->
              <div style="background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%); border-radius: 12px; padding: 24px; margin: 24px 0; border: 2px solid #22c55e;">
                <h3 style="margin: 0 0 16px 0; color: #15803d; font-size: 18px; font-weight: 700; text-align: center;">üéÅ Achievement Rewards</h3>
                <ul style="margin: 0; padding-left: 24px; color: #166534; line-height: 1.6;">
                  {{#each rewards}}
                  <li style="margin-bottom: 8px; font-weight: 500;">{{this}}</li>
                  {{else}}
                  <li style="margin-bottom: 8px; font-weight: 500;">Bragging rights and personal satisfaction!</li>
                  <li style="margin-bottom: 8px; font-weight: 500;">Achievement badge added to your profile</li>
                  <li style="margin-bottom: 8px; font-weight: 500;">Recognition in your progress dashboard</li>
                  <li style="margin-bottom: 8px; font-weight: 500;">Motivation boost for continued success</li>
                  {{/each}}
                </ul>
              </div>

              <!-- Share Achievement -->
              <div style="background: #eff6ff; border-radius: 12px; padding: 24px; margin: 24px 0; text-align: center; border: 1px solid #3b82f6;">
                <h3 style="margin: 0 0 16px 0; color: #1d4ed8; font-size: 18px; font-weight: 700;">üì± Share Your Success</h3>
                <p style="margin: 0 0 20px 0; color: #1e40af; font-size: 14px;">
                  Let your friends and family know about your amazing achievement!
                </p>
                <div style="display: flex; justify-content: center; gap: 12px; flex-wrap: wrap;">
                  <a href="{{shareUrl}}&platform=twitter" style="display: inline-block; padding: 12px 20px; background: #1da1f2; color: #ffffff; text-decoration: none; font-weight: 600; font-size: 14px; border-radius: 6px;">Share on Twitter</a>
                  <a href="{{shareUrl}}&platform=linkedin" style="display: inline-block; padding: 12px 20px; background: #0077b5; color: #ffffff; text-decoration: none; font-weight: 600; font-size: 14px; border-radius: 6px;">Share on LinkedIn</a>
                  <a href="{{shareUrl}}&platform=facebook" style="display: inline-block; padding: 12px 20px; background: #1877f2; color: #ffffff; text-decoration: none; font-weight: 600; font-size: 14px; border-radius: 6px;">Share on Facebook</a>
                </div>
              </div>

              <!-- Next Goal -->
              {{#if nextGoalTitle}}
              <div class="alert alert-info" style="padding: 20px; border-radius: 8px; margin: 24px 0; border-left: 4px solid #3b82f6; background: #eff6ff; color: #1d4ed8;">
                <h3 style="margin: 0 0 12px 0; font-size: 16px; font-weight: 700;">üéØ Next Challenge</h3>
                <p style="margin: 0 0 8px 0; font-size: 14px; font-weight: 600;">{{nextGoalTitle}}</p>
                <p style="margin: 0; font-size: 14px;">Keep up the momentum and unlock your next achievement!</p>
              </div>
              {{/if}}

              <!-- Call to Actions -->
              <div style="text-align: center; margin: 32px 0;">
                <a href="{{statisticsUrl}}" class="email-button" style="display: inline-block; padding: 16px 32px; background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); color: #ffffff; text-decoration: none; font-weight: 600; font-size: 16px; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); margin: 0 8px 12px 8px;">
                  üìä View Full Statistics
                </a>
                <a href="{{dashboardUrl}}/achievements" class="email-button email-button-secondary" style="display: inline-block; padding: 16px 32px; background: #f3f4f6; color: #374151; border: 1px solid #d1d5db; text-decoration: none; font-weight: 600; font-size: 16px; border-radius: 8px; margin: 0 8px 12px 8px;">
                  üèÜ View All Badges
                </a>
              </div>

              <!-- Continue Learning -->
              <div style="text-align: center; margin: 24px 0;">
                <a href="{{dashboardUrl}}/practice" style="color: #8b5cf6; text-decoration: none; font-size: 14px; margin: 0 12px; font-weight: 600;">Continue Practicing</a>
                <span style="color: #d1d5db;">|</span>
                <a href="{{dashboardUrl}}/goals" style="color: #8b5cf6; text-decoration: none; font-size: 14px; margin: 0 12px; font-weight: 600;">Set New Goals</a>
                <span style="color: #d1d5db;">|</span>
                <a href="{{dashboardUrl}}/leaderboard" style="color: #8b5cf6; text-decoration: none; font-size: 14px; margin: 0 12px; font-weight: 600;">View Leaderboard</a>
              </div>

              <!-- Motivational Quote -->
              <div style="background: #fafafa; border-radius: 8px; padding: 20px; margin: 32px 0; text-align: center; border-left: 4px solid #8b5cf6;">
                <p style="margin: 0; color: #4b5563; font-size: 16px; font-style: italic; line-height: 1.5;">
                  "Success is the sum of small efforts, repeated day in and day out."
                </p>
                <p style="margin: 8px 0 0 0; color: #6b7280; font-size: 14px; font-weight: 600;">
                  ‚Äî Robert Collier
                </p>
              </div>

              <!-- Achievement Date -->
              <div style="text-align: center; margin-top: 24px; padding-top: 24px; border-top: 1px solid #e5e7eb;">
                <p style="color: #6b7280; font-size: 14px; margin: 0;">
                  Achievement earned on <span style="font-weight: 600;">{{achievementDate}}</span>
                </p>
              </div>

            </td>
          </tr>

          <!-- Footer -->
          <tr>
            <td class="email-footer" style="background: #f9fafb; padding: 32px 24px; text-align: center; border: 1px solid #e5e7eb; border-top: none; border-radius: 0 0 12px 12px;">
              <p class="footer-text" style="font-size: 14px; color: #6b7280; margin: 0 0 16px 0;">
                You're receiving this achievement notification because you have accomplishment alerts enabled.
              </p>

              <div class="footer-links" style="margin: 16px 0;">
                <a href="{{dashboardUrl}}/settings" class="footer-link" style="color: #4f46e5; text-decoration: none; font-size: 14px; margin: 0 12px; font-weight: 500;">Notification Settings</a>
                <a href="mailto:{{supportEmail}}" class="footer-link" style="color: #4f46e5; text-decoration: none; font-size: 14px; margin: 0 12px; font-weight: 500;">Support</a>
                <a href="{{unsubscribeUrl}}" class="footer-link" style="color: #6b7280; text-decoration: none; font-size: 14px; margin: 0 12px; font-weight: 500;">Unsubscribe</a>
              </div>

              <p style="font-size: 12px; color: #9ca3af; margin: 16px 0 0 0;">
                ¬© {{currentYear}} Mellowise. All rights reserved.<br>
                Celebrating your academic achievements and exam preparation success.
              </p>
            </td>
          </tr>

        </table>
      </td>
    </tr>
  </table>

  <!-- Tracking Pixel -->
  {{trackingPixel}}

  <!-- Preheader Text -->
  <div style="display: none; font-size: 1px; color: #f9fafb; line-height: 1px; max-height: 0px; max-width: 0px; opacity: 0; overflow: hidden;">
    üèÜ Achievement Unlocked: {{achievementTitle}}! {{achievementDescription}} - {{userName}}
  </div>

  <!-- CSS Animations -->
  <style>
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    @keyframes confetti {
      0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }

    /* Celebration confetti effect */
    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      background: #fbbf24;
      animation: confetti 3s linear infinite;
    }

    .confetti:nth-child(1) { left: 10%; animation-delay: 0s; background: #ef4444; }
    .confetti:nth-child(2) { left: 20%; animation-delay: 0.5s; background: #22c55e; }
    .confetti:nth-child(3) { left: 30%; animation-delay: 1s; background: #3b82f6; }
    .confetti:nth-child(4) { left: 40%; animation-delay: 1.5s; background: #f59e0b; }
    .confetti:nth-child(5) { left: 50%; animation-delay: 2s; background: #8b5cf6; }
    .confetti:nth-child(6) { left: 60%; animation-delay: 2.5s; background: #06b6d4; }
    .confetti:nth-child(7) { left: 70%; animation-delay: 3s; background: #ef4444; }
    .confetti:nth-child(8) { left: 80%; animation-delay: 3.5s; background: #22c55e; }
    .confetti:nth-child(9) { left: 90%; animation-delay: 4s; background: #fbbf24; }
  </style>
</body>
</html>